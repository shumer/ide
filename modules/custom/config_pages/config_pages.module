<?php
/**
 * @file
 * Module hooks.
 */

// Define const for ConfigPage entity type.
const CONFIG_PAGES_ENTITY_TYPE = 'config_pages_type';

use Drupal\config_pages\Entity\ConfigPages;
use Drupal\config_pages\Entity\ConfigPagesType;

/**
 * @param string $type
 *  config_page type to get context.
 *
 * @return array
 *  Return current context based on groups.
 */
function config_pages_context_get($type) {
  $context = [];
  $type = ConfigPagesType::getTypes($type);
  if (!$type) {
    return $context;
  }

  $context = $type->getContextData();

  return $context;
}

/**
 *
 * Helper function.
 * Returns config page entity.
 *
 * @param string $type
 *   Config page type to load.
 *
 * @param string $context
 *   Context which should be used to load entity,
 *
 * @retun \Drupal\config_pages\Entity\ConfigPages.
 */
function config_pages_config($type, $context = NULL) {
  $config_page = ConfigPages::config($type, $context);
  return $config_page;
}
